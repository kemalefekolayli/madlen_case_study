spring:
  application:
    name: madlen-chat

  data:
    mongodb:
      uri: ${MONGODB_URI:mongodb://localhost:27017/madlen-chat}
      database: madlen-chat

  jackson:
    serialization:
      write-dates-as-timestamps: false
    default-property-inclusion: non_null

  # Increase max request size for image uploads
  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 15MB

server:
  port: 8080

openrouter:
  api:
    base-url: https://openrouter.ai/api/v1
    key: ${OPENROUTER_API_KEY:}

  free-models:
    # Vision-capable models (free tier)
    - id: google/gemini-2.0-flash-exp:free
      name: Gemini 2.0 Flash
      description: Google's fast and capable model with vision support
      supports-vision: true

    - id: google/gemini-exp-1206:free
      name: Gemini Experimental
      description: Google's experimental model with advanced vision capabilities
      supports-vision: true

    - id: allenai/molmo-2-8b:free
      name: Molmo2 8B
      description: Molmo2 8B by Allenai supports images
      supports-vision: true

    - id: meta-llama/llama-3.2-11b-vision-instruct:free
      name: Llama 3.2 11B Vision
      description: Meta's vision-language model for image understanding
      supports-vision: true

    - id: bytedance-seed/seedream-4.5
      name: ByteDance-Seed
      description: Seedream 4.5 is the latest in-house image generation model developed by ByteDance.
      supports-vision: true


    # Text-only models (free tier)
    - id: meta-llama/llama-3.2-3b-instruct:free
      name: Llama 3.2 3B
      description: Meta's efficient instruction-tuned model (text only)
      supports-vision: false

    - id: xiaomi/mimo-v2-flash:free
      name: Mimo-v2-Flash
      description: Alibaba's multilingual model (text only) - free version
      supports-vision: false

    - id: mistralai/devstral-2512:free
      name: Mistral
      description: Devstral 2 is a state-of-the-art open-source model by Mistral AI specializing in agentic coding.
      supports-vision: false



chat:
  session:
    max-per-user: 10
    max-messages-per-session: 100

management:
  tracing:
    sampling:
      probability: 1.0
  otlp:
    tracing:
      endpoint: ${OTEL_EXPORTER_OTLP_ENDPOINT:http://localhost:4318/v1/traces}
  endpoints:
    web:
      exposure:
        include: health,info,prometheus,metrics

logging:
  level:
    root: INFO
    com.madlen.chat: DEBUG
    com.example.madlen_demo2: DEBUG
    io.opentelemetry: INFO
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} [%X{traceId:-}] %-5level %logger{36} - %msg%n"